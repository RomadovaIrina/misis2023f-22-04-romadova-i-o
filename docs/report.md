# __Паттерн Синглтон (Singleton) Одиночка__
## __Определение__


*Паттерн* – шаблон, принятое решение для реализации определенного спектра задач. Является «Хорошим тоном» в разработке.
*Паттерн Синглтон* - Одиночка, относят к порождающим, так как он предназначен для создания некоторого объекта. Синглтон, в частности, нужен для создания заданного числа экземпляров, чаще всего- одного (поэтому и одиночка)

### Что нужно уметь делать:
-	Создавать экземпляр определенного типа
-	Предоставлять доступ извне. Переменная доступна всегда: от запуска программы до ее завершения. К ней предоставлен глобальный доступ — из любой части программы.
-	Гарантировать единственность экземпляра
### Особенности использования паттерна:
1.	Создание единственного экземпляра: У класса есть один экземпляр и далее он просто ссылается на себя
2.	Предоставляет доступ из любой точки программы- глобальность (Глобальный доступ к синглтону обеспечивается при использовании статического метода, который позволяет получить единственный экземпляр этого класса)
3.	Как следствие, проблемы с многопоточностью.
4.	Используется отложенная инициализация (создание происходит по необходимости)
5.	Усложняет тестирование и отслеживание зависимостей:
  - Поскольку синглтон привносит глобальный статус, то нельзя изолировать другие классы, которые используют синглтон
  - Невозможно запустить несколько тестов параллельно
  -	Не всегда один и тот же тест вернет один и тот же результат
  -	Состояние синглтона может меняться по мере выполнения программы
## Вариант реализации:


На данном этапе предоставлено решение найденное в открытом доступе


```C++
class Singleton {
private:
    // Приватный конструктор, чтобы предотвратить создание экземпляров извне.
    Singleton() {}
    // Указатель на единственный экземпляр класса.
    static Singleton* instance;

public:
    // Метод для получения единственного экземпляра класса.
    static Singleton* getInstance() {
        if (!instance) {
            instance = new Singleton();
        }
        return instance;
    }
};
```

 
Доступ к объекту через статическую функцию-член класса, которая возвращает ссылку или указатель на него. Этот объект создается только в первый раз, а все последующие вызовы возвращают адрес.


Преимущества и недостатки использования:


| Плюсы | Минусы |
| ----------- | ----------- |
| Гарантия единственности экземпляра  | Сложность тестирования   |
| Простота использования    | Сокрытие зависимостей   |
|Дает управление ресурсами | 	Создание новых зависимостей|


*В некоторых реализациях синглтона следует следить за работой с динамической памятью, использование статических методов облегчает ситуацию*

## Заключение:

В настоящее время существуют другие паттерны, которые являются альтернативой синглтону и показывают себя более эффективными, но, при необходимости его применение допустимо. Следует также уделять внимание реализации. При грамотной реализации синглтон достаточно хорош.

